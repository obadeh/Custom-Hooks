{"version":3,"sources":["components/modal/modal.module.scss","components/if/index.js","components/modal/index.js","components/hooks/form.js","components/todo/todo-connected.js","app.js","index.js"],"names":["module","exports","render","condition","children","When","props","Modal","className","styles","modal","title","onClick","close","useForm","callback","useState","values","setValues","event","preventDefault","target","reset","onChange","persist","name","value","console","log","todoAPI","Todo2","callAPI","newItem","setTodoList","todoList","handleSubmit","handleChange","showDetails","setShowDetails","details","setDetails","url","method","body","handler","errorHandler","fetch","mode","cache","headers","JSON","stringify","undefined","then","response","json","data","catch","e","error","toggleComplete","id","updatedItem","filter","i","_id","complete","map","toggleDetails","showDetails1","details1","useEffect","results","length","onSubmit","placeholder","type","min","max","defaultValue","toString","key","text","assignee","due","App","React","Component","Main","rootElement","document","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.e8374a9d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__2bhYs\"};","import React from 'react';\n\nconst render = (condition = false, children = null) => {\n  return condition ? children : null;\n};\n\nexport const If = props =>\n  React.Children.map(props.children, child =>\n    React.cloneElement(child, { condition: props.condition }),\n  );\n\nexport const Then = props => render(props.condition, props.children);\nexport const Else = props => render(!props.condition, props.children);\n\n/*\n<When condition={true}>\n  <h2>When Works</h2>\n</When>\n*/\nexport const When = props => render(props.condition, props.children);\n\n/*\n<Unless condition={administrator}>\n  Pay more $$ and we will make you an admin\n</Unless>\n*/\nexport const Unless = props => render(!props.condition, props.children);\n","import React from 'react';\n\nimport styles from './modal.module.scss';\n\nconst Modal = props => {\n  return (\n    <div className={styles.modal}>\n      <div>\n        <header>\n          <span className=\"title\">{props.title}</span>\n          <button onClick={props.close}>X</button>\n        </header>\n        <div>{props.children}</div>\n      </div>\n    </div>\n  );\n};\nexport default Modal;\n","import { useState } from 'react';\n\nconst useForm = (callback) => {\n  const [values, setValues] = useState({});\n\n  const handleSubmit = (event) => {\n    if (event){\n      event.preventDefault();\n      event.target.reset();\n    }\n\n    callback(values);\n  };\n\n  const handleChange = (event) => {\n    event.persist();\n    setValues(values => ({...values, [event.target.name] : event.target.value }));\n    console.log('values : ', values);\n  };\n\n  const handleInput = {\n    onChange: (event) => {\n      event.persist();\n      setValues(values => ({...values, [event.target.name] : event.target.value }));\n    },\n  };\n\n  return [handleSubmit, handleInput, handleChange, values];\n};\n\nexport default useForm;","/* eslint-disable no-undefined */\nimport React, { useState, useEffect } from 'react';\nimport { When } from '../if';\nimport Modal from '../modal';\nimport useForm from '../hooks/form.js';\n\nimport './todo.scss';\n\nconst todoAPI = 'https://api-js401.herokuapp.com/api/v1/todo';\n\nconst Todo2 = (props) =>{\n\n  const addItem = () => {\n\n    // e.preventDefault();\n    // e.target.reset();\n\n    const _updateState = newItem =>\n      setTodoList([...todoList, newItem]);\n\n    callAPI( todoAPI, 'POST', values, _updateState );\n\n  };\n\n  // from form hook\n  const [handleSubmit, handleInput, handleChange, values] = useForm(addItem);\n\n  const [todoList,setTodoList] = useState([]);\n  // const [item,setItem] = useState({});\n  const [showDetails,setShowDetails] = useState(false);\n  const [details,setDetails] = useState({});\n\n  const callAPI = (url, method = 'get', body, handler, errorHandler) => {\n\n    return fetch(url, {\n      method: method,\n      mode: 'cors',\n      cache: 'no-cache',\n      headers: { 'Content-Type': 'application/json' },\n      body: body ? JSON.stringify(body) : undefined,\n    })\n      .then(response => response.json())\n      .then(data => typeof handler === 'function' ? handler(data) : null )\n      .catch( (e) => typeof errorHandler === 'function' ? errorHandler(e) : console.error(e)  );\n  };\n\n\n\n  const deleteItem = id => {\n\n    const _updateState = (results) =>\n\n      setTodoList(todoList.filter(values => values._id !== id));\n\n    callAPI( `${todoAPI}/${id}`, 'DELETE', undefined, _updateState );\n\n  };\n\n  const saveItem = updatedItem => {\n\n    const _updateState = (newItem) =>\n      setTodoList(todoList.map(values =>\n        values._id === newItem._id ? newItem : values,\n      ));\n\n\n\n    callAPI( `${todoAPI}/${updatedItem._id}`, 'PUT', updatedItem, _updateState );\n\n  };\n\n  const toggleComplete = id => {\n    let values = todoList.filter(i => i._id === id)[0] || {};\n    if (values._id) {\n      values.complete = !values.complete;\n      saveItem(values);\n    }\n  };\n\n  const toggleDetails = id => {\n    let showDetails1 = ! showDetails;\n    let details1 = todoList.filter( values => values._id === id )[0] || {};\n    console.log('todoList : ', todoList);\n    setDetails(details1);\n    console.log('details : ', details);\n    setShowDetails(showDetails1);\n  };\n\n  const getTodoItems = () => {\n    const _updateState = data => setTodoList(data.results);\n    callAPI( todoAPI, 'GET', undefined, _updateState );\n  };\n\n  useEffect(() => {\n    getTodoItems();\n  });\n\n  return (\n    <>\n      <header>\n        <h2>\n            There are\n          {todoList.filter( values => !values.complete ).length}\n            Items To Complete\n        </h2>\n      </header>\n\n      <section className=\"todo\">\n\n        <div>\n          <h3>Add Item</h3>\n          <form onSubmit={handleSubmit}>\n            <label>\n              <span>To Do Item</span>\n              <input\n                name=\"text\"\n                placeholder=\"Add To Do List Item\"\n                onChange={handleChange}\n              />\n            </label>\n            <label>\n              <span>Difficulty Rating</span>\n              <input type=\"range\" min=\"1\" max=\"5\" name=\"difficulty\" defaultValue=\"3\" onChange={handleChange} />\n            </label>\n            <label>\n              <span>Assigned To</span>\n              <input type=\"text\" name=\"assignee\" placeholder=\"Assigned To\" onChange={handleChange} />\n            </label>\n            <label>\n              <span>Due</span>\n              <input type=\"date\" name=\"due\" onChange={handleChange} />\n            </label>\n            <button>Add Item</button>\n          </form>\n        </div>\n\n        <div>\n          <ul>\n            { todoList.map(values => (\n              <li\n                className={`complete-${values.complete.toString()}`}\n                key={values._id}\n              >\n                <span onClick={() => toggleComplete(values._id)}>\n                  {values.text}\n                </span>\n                <button onClick={() => toggleDetails(values._id)}>\n                    Details\n                </button>\n                <button onClick={() => deleteItem(values._id)}>\n                    Delete\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </section>\n\n      <When condition={showDetails}>\n        <Modal title=\"To Do Item\" close={toggleDetails}>\n          <div className=\"todo-details\">\n            <header>\n              <span>Assigned To: {details.assignee}</span>\n              <span>Due: {details.due}</span>\n            </header>\n            <div className=\"item\">\n              {details.text}\n            </div>\n          </div>\n        </Modal>\n      </When>\n    </>\n  );\n};\n\n\nexport default Todo2;\n","import React from 'react';\n\n// State Only\n// import ToDo from './components/todo/todo.js';\n\n// API Connected (Live Data)\nimport ToDo from './components/todo/todo-connected.js';\n\nexport default class App extends React.Component {\n  render() {\n    return (\n      <div>\n        <ToDo />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './app.js';\n\nclass Main extends React.Component {\n  render() {\n    return <App />;\n  }\n}\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<Main />, rootElement);\n"],"sourceRoot":""}